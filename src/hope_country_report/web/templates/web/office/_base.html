{% extends "layout.html" %}{% load i18n feature_flags %}
{% flag_enabled 'ONLINE_PAGES' as ONLINE_PAGES %}

{% block header %}
    <div class="pr-10 flex-grow align-middle pt-3">
        <form id="select-tenant" method="post" action="{% url 'select-tenant' %}">
            {% csrf_token %}{{ tenant_form.tenant }}
        </form>
    </div>
    <div class="flex-shrink align-middle pt-3 pr-10">
        <div class="flex align-middle">
        <div class="flex-shrink pt-2">{{ user }}</div>
        <div class="flex-shrink mx-2">
        <a class="profile-link" href="{% url "user-profile" %}">
            <div class="icon icon-user text-3xl float-shrink"></div>
        </a>
        </div>
        </div>
    </div>
{% endblock %}
{% block menu %}
    <ul class="menu p-0 w-full h-5/6 mt-10">
        <li class="flex OfficeHomeView h-12">
            <a class="flex w-full px-4" href="{% url "office-index" selected_office.slug %}">
                <span class="flex text-2xl pt-2 pr-4 icon icon-home"></span>
                <div class="flex-grow pt-3 display-open">{% trans "Home" %}</div>
            </a>
        </li>
        <li class="OfficeReportDocumentListView OfficeReportDocumentDetailView flex">
            <a class="flex w-full px-4" href="{% url "office-doc-list" selected_office.slug %}">
                <span class="flex text-2xl pt-2 pr-4 icon icon-papers"></span>
                <div class="flex-grow pt-3 display-open">{% trans "Reports" %}</div>
            </a>
        </li>
        <li class="OfficeReportListView OfficeReportDetailView flex">
            <a class="flex w-full px-4" href="{% url "office-config-list" selected_office.slug %}">
                <span class="flex text-2xl pt-2 pr-4 icon icon-equalizer"></span>
                <div class="flex-grow pt-3 display-open">{% trans "Configuration" %}</div>
            </a>
        </li>
        {% if CO_PREFERENCES %}
        <li class="OfficeReportListView OfficeReportDetailView flex">
            <a class="flex w-full px-4" href="{% url "office-config-list" selected_office.slug %}">
                <span class="flex text-2xl pt-2 pr-4 icon icon-options"></span>
                <div class="flex-grow pt-3 display-open">{% trans "Settings" %}</div>
            </a>
        </li>
        {% endif %}
        {% if ONLINE_PAGES %}
        <li class="OfficePageListView flex">
            <a class="flex w-full px-4" href="{% url "office-pages" selected_office.slug %}">
                <span class="flex text-2xl pt-2 pr-4 icon icon-bargraph"></span>
                <div class="flex-grow  pt-3 display-open">{% trans "Dashboards" %}</div>
            </a></li>
        {% endif %}
        <li class="OfficePageListView flex">
            <a class="flex w-full px-4" href="{% url "logout" %}">
                <span class="flex text-2xl pt-2 pr-4 icon icon-logout"></span>
                <div class="flex-grow  pt-3 display-open">{% trans "Logout" %}</div>
            </a>
        </li>
    </ul>
    <ul class="menu d-block block">
        {% if user.is_staff %}
            <li class="flex">
                <a class="flex w-full px-4" href="{% url "admin:index" %}">
                    <span class="flex text-2xl pt-2 pr-4 icon icon-shield1"></span>
                    <div class="flex-grow  pt-3 display-open">{% trans "Admin" %}</div>
                </a>
            </li>
        {% endif %}
        <div class="flex items-center p-2 border-t-black display-open">
            <div class="m-auto text-gray-400 ">
                <span>HOPE Reporting</span>
                <span>{{ version }}</span>
                <span>{{ release_date }}</span>
            </div>
        </div>
    </ul>
{% endblock %}
{% block page-top %}
    <div class="box">
        <h1>{% block page-title %}{{ title }}{% endblock %}
            {% if object and object.get_admin_url and user.is_staff %}
                <small class="float-right"><a target="_admin" href="{{ object.get_admin_url }}">View in
                    Admin</a></small>
                </h1>
            {% endif %}
    </div>
{% endblock %}
